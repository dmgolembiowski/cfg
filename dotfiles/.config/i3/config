##
## Key bindings
##

# directional vars
set $left h
set $down j
set $up k
set $right l

# workspace vars
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"

# window management
bindsym Mod1+Shift+c kill

bindsym Mod1+$left focus left
bindsym Mod1+$down focus down
bindsym Mod1+$up focus up
bindsym Mod1+$right focus right

bindsym Mod1+Shift+$left move left
bindsym Mod1+Shift+$down move down
bindsym Mod1+Shift+$up move up
bindsym Mod1+Shift+$right move right

bindsym Mod1+s split h
bindsym Mod1+v split v

bindsym Mod1+f fullscreen toggle

bindsym Mod1+1 workspace $ws1
bindsym Mod1+2 workspace $ws2
bindsym Mod1+3 workspace $ws3
bindsym Mod1+4 workspace $ws4
bindsym Mod1+5 workspace $ws5

bindsym Mod1+Shift+1 move container to workspace $ws1
bindsym Mod1+Shift+2 move container to workspace $ws2
bindsym Mod1+Shift+3 move container to workspace $ws3
bindsym Mod1+Shift+4 move container to workspace $ws4
bindsym Mod1+Shift+5 move container to workspace $ws5

# resize window
mode "resize" {
	bindsym $left	    resize shrink width 10 px or 10 ppt
	bindsym $down	    resize grow height 10 px or 10 ppt
	bindsym $up	    resize shrink height 10 px or 10 ppt
	bindsym $right	    resize grow width 10 px or 10 ppt

	bindsym Escape mode "default"
	bindsym Mod1+r mode "default"
}

bindsym Mod1+r mode "resize"

# drag floating windows
floating_modifier Mod1

# launchers
bindsym Mod1+Shift+Return exec xterm
bindsym Mod1+p exec --no-startup-id xterm_menu

# restart/exit
bindsym Mod1+Shift+r restart
bindsym Mod1+Shift+q exec "i3-nagbar -t warning -m 'Exit i3?' -B 'Exit' 'i3-msg exit'"

# window rules
for_window [class="XtermMenu"] border pixel 2
for_window [class="XtermMenu"] floating enable
for_window [class="XtermMenu"] move position center

##
## Style
##

font pango:IBM Plex Mono 10

default_border pixel 2

set $bg_fo #ffd787
set $fg_fo #444444
set $bg_fi #afd7ff
set $fg_fi #0087af
set $bg_uf #e4e4e4
set $fg_uf #444444
set $bg_ur #ffd7ff
set $fg_ur #af0000

set $fg_st #4d4d4c
set $bg_st #eeeeee

client.focused          $bg_fo $bg_fo $fg_fo $bg_fo $bg_fo
client.focused_inactive $bg_fi $bg_fi $fg_fi $bg_fi $bg_fi
client.unfocused        $bg_uf $bg_uf $fg_uf $bg_uf $bg_uf
client.urgent           $bg_uf $bg_uf $fg_uf $bg_uf $bg_uf

bar {
	status_command i3status | ~/.config/i3status/wrapper
	separator_symbol " | "
	position top

	colors {
		statusline $fg_st
		background $bg_st

		focused_workspace  $bg_fo $bg_fo $fg_fo
		active_workspace   $bg_fi $bg_fi $fg_fi
		inactive_workspace $bg_st $bg_st $fg_st
		urgent_workspace   $bg_ur $bg_ur $fg_ur
	}
}

##
## Custom bindings
##

# Volume up/down
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle

# Brightness
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym XF86MonBrightnessUp exec brightnessctl set +5%

# Screenshots
bindsym Print exec maim -s \
       ~/pic/sc_$(date +'%Y-%m-%d-%H%M%S.png')

# Lock screen
bindsym Mod4+l exec --no-startup-id physlock

# Display switching
bindsym XF86Display exec --no-startup-id xrandr-toggle external
bindsym Mod1+XF86Display exec --no-startup-id xrandr-toggle internal
bindsym Control+XF86Display exec --no-startup-id xrandr-toggle both
